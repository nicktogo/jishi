{% extends "navbar.html" %}
{% block page_specified %}
    <script src="http://s.codepen.io/assets/libs/modernizr.js" type="text/javascript"></script>
{% endblock %}
{% block for_message %}
    <style type="text/css">
        :root .ad {
            display: none !important;
        }
    </style>
    <link rel="stylesheet" href="http://codepen.io/assets/reset/normalize.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/message.css') }}">
    <script>
        window.console = window.console || function (t) {
                };
    </script>
{% endblock %}
{% block body %}
    <div id="demo">
        <div class="table-responsive-vertical shadow-z-1">
            <!-- Table starts here -->
            <table id="table" class="table table-hover table-mc-light-blue">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Link</th>
                    <th>Status</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td data-title="ID">1</td>
                    <td data-title="Name">Material Design Color Palette</td>
                    <td data-title="Link">
                        <a href="https://github.com/zavoloklom/material-design-color-palette" target="_blank">GitHub</a>
                    </td>
                    <td data-title="Status">Completed</td>
                </tr>
                <tr>
                    <td data-title="ID">2</td>
                    <td data-title="Name">Material Design Iconic Font</td>
                    <td data-title="Link">
                        <a href="http://codepen.io/zavoloklom/pen/uqCsB" target="_blank">Codepen</a>
                        <a href="https://github.com/zavoloklom/material-design-iconic-font" target="_blank">GitHub</a>
                    </td>
                    <td data-title="Status">Completed</td>
                </tr>
                <tr>
                    <td data-title="ID">3</td>
                    <td data-title="Name">Material Design Hierarchical Display</td>
                    <td data-title="Link">
                        <a href="http://codepen.io/zavoloklom/pen/eNaEBM" target="_blank">Codepen</a>
                        <a href="https://github.com/zavoloklom/material-design-hierarchical-display"
                           target="_blank">GitHub</a>
                    </td>
                    <td data-title="Status">Completed</td>
                </tr>
                <tr>
                    <td data-title="ID">4</td>
                    <td data-title="Name">Material Design Sidebar</td>
                    <td data-title="Link"><a href="http://codepen.io/zavoloklom/pen/dIgco" target="_blank">Codepen</a>
                    </td>
                    <td data-title="Status">Completed</td>
                </tr>
                <tr>
                    <td data-title="ID">5</td>
                    <td data-title="Name">Material Design Tiles</td>
                    <td data-title="Link">
                        <a href="http://codepen.io/zavoloklom/pen/wtApI" target="_blank">Codepen</a>
                    </td>
                    <td data-title="Status">Completed</td>
                </tr>
                <tr>
                    <td data-title="ID">6</td>
                    <td data-title="Name">Material Design Typography</td>
                    <td data-title="Link">
                        <a href="http://codepen.io/zavoloklom/pen/IkaFL" target="_blank">Codepen</a>
                        <a href="https://github.com/zavoloklom/material-design-typography" target="_blank">GitHub</a>
                    </td>
                    <td data-title="Status">Completed</td>
                </tr>
                <tr>
                    <td data-title="ID">7</td>
                    <td data-title="Name">Material Design Buttons</td>
                    <td data-title="Link">
                        <a href="http://codepen.io/zavoloklom/pen/Gubja" target="_blank">Codepen</a>
                    </td>
                    <td data-title="Status">In progress</td>
                </tr>
                <tr>
                    <td data-title="ID">8</td>
                    <td data-title="Name">Material Design Form Elements</td>
                    <td data-title="Link">
                        <a href="http://codepen.io/zavoloklom/pen/yaozl" target="_blank">Codepen</a>
                    </td>
                    <td data-title="Status">In progress</td>
                </tr>
                <tr>
                    <td data-title="ID">9</td>
                    <td data-title="Name">Material Design Email Template</td>
                    <td data-title="Link">
                        <a href="http://codepen.io/zavoloklom/pen/qEVqzx" target="_blank">Codepen</a>
                    </td>
                    <td data-title="Status">Completed</td>
                </tr>
                <tr>
                    <td data-title="ID">10</td>
                    <td data-title="Name">Material Design Animation Timing (old one)</td>
                    <td data-title="Link">
                        <a href="http://codepen.io/zavoloklom/pen/Jbrho" target="_blank">Codepen</a>
                    </td>
                    <td data-title="Status">Completed</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}
<script>
    $(function () {
        var types = ["申请", "同意", "退出", "被踢出"];
        //  $('.mes_type').forEach(function(elem){$(this).text(types[Integer.parseInt($(this).text())])})
        //
        //             };
        $('.mes_type').each(function (elem) {
            console.log($(this).text());
            $(this).text(types[parseInt($(this).text())]);
        });
    });

    //     $('#myModal').on('show.bs.modal', function (event) {
    //         var messagetd = $(event.relatedTarget) // Button that triggered the modal
    //         var message = messagetd.data('message') // Extract info from data-* attributes
    //
    <!--var username = message["username"]-->
    //
    <!--var projectname = message["projectname"]-->
    //
    <!--var project_type = message["project_type"]-->
    //         var types = new Array()
    //         types[0]="申请"
    //         types[1]="同意"
    //         types[2]="退出"
    //         types[3]="被踢出"
    //         var type = types[message]
    //         var modal = $(this)
    //         modal.find('.modal-title').text('New message to ' + type)
    //
    // })

    function permit(btn) {
        var message_id = $("#message_id").val();
        var data = {'message_id': message_id}
        $.ajax({
            url: "/project/permit",
            data: JSON.stringify(data),
            contentType: 'application/json',
            type: 'POST',
            dataType: 'json',
            success: function (data) {
                alert(data['message_id'] + "同意申请!")
            },
            error: function (data) {
                console.log(data)
            }
        })

    }
</script>

